<!DOCTYPE HTML>
<!--
	Photon by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Photon by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
					<h1>Creating a Fantasy PL Team with a Python Algorithm</h1>
					</ul>
				</div>
			</section>

		<!-- One -->
			<section id="one">
				<div class="container">
							
								<h2>What is Fantasy Premier League?</h2>
						</header>
							<p>Fantasy Premier League is a game that casts you in the role of a Fantasy manager. You are given the task to pick a squad of real-life players who score points for your team based on their performances in their own matches.</p>
						
							<p>FPL hands you a £100m budget which you spend on your squad. You will find that the most expensive players will be the attacking options in midfield and forward positions, while budget options will be inexperienced youngsters or more modest scoring players.
Your squad will have 15 players in it but only 11 can start every week, it’s up to you to decide which four to leave on the bench. And it’s also up to you to decide which players to transfer in each week. Your squad can also only have a maximum of three players from one team also.</p>
						
				
				
					<h2>The Dilemma</h2>
							</header>
							<p>A regular occurrence each year is that you may join Fantasy PL with ambitions of seeing the season through and securing a top-half finish. And then by about November, you forget about it…</p>
						
							<p>This made me wonder however – what if it is possible to select a team on Gameweek 1, and simply forget about it for the rest of the season while still getting a strong finish. Using data from the 2020/21 Premier League season, I set about to find the answer.<p>
					
				
				
					<h2>Data Collection and Cleaning</h2>
							</header>
							<p>My first step involved finding an API that included the relevant player data. After inspecting the page source of the Fantasy PL website, I discovered an API link that looked promising. Using a Python request, I could then import this data into a CSV file.</p>
						
							<p>Rerunning the file through Python, I then began cleaning the player data. The import had caused some formatting issues with accented characters in the players names. Such as Héctor Bellerín who’s name has now changed to “H’©ctor Beller’_n”. I then made sure to add a new column “points_per_mil”, which can be simply calculated by dividing the players total_points by their market price.<p>

<p>It was now time to address the anomaly that is Stuart Dallas’s points total. At 171 points for the price of £5.5, Stuart Dallas looks to be a huge bargain on the surface. However, a close inspection reveals that he was mistakingly labelled as a defender last season, while his actual playing position is midfield. And you may be wondering what does this mean in terms of his points scored exactly?<p>

<p>Well, defenders get 4 points for a clean sheet while midfielders only receive 1. In addition, midfielders also receive 1 less point for scoring goals. Having scored 8 goals (-1 point) and receiving 12 clean sheets (-3 points), this heavily reduces his points total. 171-36-8=127<p>

<p>And now we’re set to use the data.<p> 
				
	<div class="container">
	<h2>Data Visualisations</h2> 
							</header>
							<p>Before setting ahead with the main task, I entered the CSV file into Tableau to create some data visualisations.</p>
						
							<p>The following data made for some interesting insights. In this graph we can see the 12 most selected players for the new season so far. Salah and Fernandes remain the most selected, due to their high-scoring season. Meanwhile, Harry Kane remains at just below 29% (possibly due to reports of a possible transfer to Man City).<p>

<p>However, Ivan Toney is the real outlier in this graph. Despite this being his first Premier League season, the striker from newly promoted Brentford has been selected by over 35% of FPL users (due to his ecstatic performances in the lower league and low price).<p>

<p>Alternatively, in these scatter plots we can also make the observation that aggressive players tend to score more goals.<p>

	

<h2>Investigating with SQL</h2>
							</header>
							<p>Loading the data into SQL allows us to make some quick observations of the data. However, it also serves to show the limitations of only using SQL for this method.</p>
						
							<p>Entering in the query, we are returned players with the best possible “points per million” rating. Adding a WHERE clause, we can also filter out players that don’t play above a threshold of minutes, and view by position.<p>

<p>Our suggested team is balanced all-round with a reliable bench, however has 4 players from both Leeds United and Aston Villa. As well as having £7.5 million left in the budget (which could be better used transferring Salah or Fernandes in). Interestingly, a points deducted Dallas still makes the cut for this squad.<p>
					
					</div>
				</div>
			</section>
		
		<!-- Footer -->
			<section id="footer">
				<ul class="icons">
					<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
					<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Untitled</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
